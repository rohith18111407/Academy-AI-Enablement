[
  {
    "model": "GPT-4o",
    "provider": "openai",
    "category": "AppDev (Code Generation)",
    "prompt_id": "appdev_fizzbuzz",
    "task_description": "Python FizzBuzz",
    "prompt": "Write a clean Python function for FizzBuzz from 1 to 100.",
    "response_text": "ERROR: OpenAI quota exceeded. Skipping evaluation for this model.",
    "latency_ms": null,
    "rating": "",
    "comments": ""
  },
  {
    "model": "GPT-4o",
    "provider": "openai",
    "category": "Data (SQL Generation & Analysis)",
    "prompt_id": "data_sql_top_customers",
    "task_description": "Top Customers by Revenue",
    "prompt": "Write an optimized SQL query to get top 5 customers by revenue in the last 6 months.",
    "response_text": "ERROR: OpenAI quota exceeded. Skipping evaluation for this model.",
    "latency_ms": null,
    "rating": "",
    "comments": ""
  },
  {
    "model": "GPT-4o",
    "provider": "openai",
    "category": "DevOps (Infrastructure Automation)",
    "prompt_id": "devops_terraform_ecs",
    "task_description": "Terraform ECS Deployment",
    "prompt": "Create Terraform code to deploy a Docker application on AWS ECS with an Application Load Balancer.",
    "response_text": "ERROR: OpenAI quota exceeded. Skipping evaluation for this model.",
    "latency_ms": null,
    "rating": "",
    "comments": ""
  },
  {
    "model": "Claude Sonnet (Bedrock)",
    "provider": "anthropic",
    "category": "AppDev (Code Generation)",
    "prompt_id": "appdev_fizzbuzz",
    "task_description": "Python FizzBuzz",
    "prompt": "Write a clean Python function for FizzBuzz from 1 to 100.",
    "response_text": "Sure, here's a clean Python function for the FizzBuzz problem from 1 to 100:\n\n```python\ndef fizz_buzz():\n    \"\"\"\n    Prints the numbers from 1 to 100, but replaces multiples of 3 with 'Fizz', multiples of 5 with 'Buzz',\n    and multiples of both 3 and 5 with 'FizzBuzz'.\n    \"\"\"\n    for num in range(1, 101):\n        if num % 3 == 0 and num % 5 == 0:\n            print(\"FizzBuzz\")\n        elif num % 3 == 0:\n            print(\"Fizz\")\n        elif num % 5 == 0:\n            print(\"Buzz\")\n        else:\n            print(num)\n```\n\nTo use this function, simply call `fizz_buzz()`:\n\n```python\nfizz_buzz()\n```\n\nThis will output the numbers from 1 to 100, with multiples of 3 replaced by \"Fizz\", multiples of 5 replaced by \"Buzz\", and multiples of both 3 and 5 replaced by \"FizzBuzz\".\n\nHere's how the `fizz_buzz()` function works:\n\n1. The function is defined with the name `fizz_buzz()`.\n2. The docstring `\"\"\"...\"\"\"` provides a brief description of what the function does.\n3. The `for` loop iterates over the numbers from 1 to 100 using `range(1, 101)`.\n4. For each number `num`, the function checks the following conditions:\n   - If `num` is divisible by both 3 and 5 (i.e., `num % 3 == 0` and `num % 5 == 0`), it prints \"FizzBuzz\".\n   - If `num` is divisible by 3 (i.e., `num % 3 == 0`), it prints \"Fizz\".\n   - If `num` is divisible by 5 (i.e., `num % 5 == 0`), it prints \"Buzz\".\n   - If none of the above conditions are met, it prints the number `num`.\n\nThis implementation follows the principles of clean coding by using descriptive variable names, adding a docstring for documentation, and keeping the code concise and readable.",
    "latency_ms": 8226.94,
    "rating": "",
    "comments": ""
  },
  {
    "model": "Claude Sonnet (Bedrock)",
    "provider": "anthropic",
    "category": "Data (SQL Generation & Analysis)",
    "prompt_id": "data_sql_top_customers",
    "task_description": "Top Customers by Revenue",
    "prompt": "Write an optimized SQL query to get top 5 customers by revenue in the last 6 months.",
    "response_text": "Assuming you have a table named `orders` with columns `customer_id`, `order_date`, and `revenue`, you can use the following SQL query to get the top 5 customers by revenue in the last 6 months:\n\n```sql\nSELECT\n    customer_id,\n    SUM(revenue) AS total_revenue\nFROM\n    orders\nWHERE\n    order_date >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)\nGROUP BY\n    customer_id\nORDER BY\n    total_revenue DESC\nLIMIT 5;\n```\n\nHere's a breakdown of the query:\n\n1. `SELECT customer_id, SUM(revenue) AS total_revenue`: This part selects the `customer_id` and calculates the sum of the `revenue` column for each customer, aliasing it as `total_revenue`.\n\n2. `FROM orders`: This specifies the table from which the data will be retrieved.\n\n3. `WHERE order_date >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)`: This condition filters the rows to include only those orders placed within the last 6 months. `CURDATE()` is a MySQL function that returns the current date, and `DATE_SUB` subtracts the specified interval (6 months) from the current date.\n\n4. `GROUP BY customer_id`: This groups the rows by `customer_id` so that the `SUM` function can be applied to the `revenue` column for each customer.\n\n5. `ORDER BY total_revenue DESC`: This sorts the results in descending order based on the `total_revenue` column, ensuring that the customers with the highest revenue are listed first.\n\n6. `LIMIT 5`: This limits the output to the first 5 rows, which will be the top 5 customers by revenue.\n\nThis query optimizes the performance by:\n\n- Using the `WHERE` clause to filter out unnecessary data before performing the aggregation, reducing the amount of data processed.\n- Indexing the `order_date` and `customer_id` columns if they are not already indexed, which can significantly improve query performance.\n- Avoiding unnecessary subqueries or complex joins, which can slow down the query execution.\n- Using the `LIMIT` clause to retrieve only the required number of rows, reducing the amount of data returned and processed.\n\nNote that the query assumes that the `orders` table has the required columns (`customer_id`, `order_date`, and `revenue`). If your table structure differs, you may need to adjust the query accordingly.",
    "latency_ms": 8144.8,
    "rating": "",
    "comments": ""
  },
  {
    "model": "Claude Sonnet (Bedrock)",
    "provider": "anthropic",
    "category": "DevOps (Infrastructure Automation)",
    "prompt_id": "devops_terraform_ecs",
    "task_description": "Terraform ECS Deployment",
    "prompt": "Create Terraform code to deploy a Docker application on AWS ECS with an Application Load Balancer.",
    "response_text": "Sure, I can help you with that. Here's a Terraform code example to deploy a Docker application on AWS ECS with an Application Load Balancer:\n\n```hcl\n# Configure the AWS provider\nprovider \"aws\" {\n  region = \"us-west-2\" # Replace with your desired region\n}\n\n# Create an ECS cluster\nresource \"aws_ecs_cluster\" \"my_cluster\" {\n  name = \"my-cluster\"\n}\n\n# Create an ECS task definition\nresource \"aws_ecs_task_definition\" \"my_task\" {\n  family                   = \"my-task\"\n  container_definitions    = <<DEFINITION\n[\n  {\n    \"name\": \"my-container\",\n    \"image\": \"your-docker-image:tag\",\n    \"essential\": true,\n    \"portMappings\": [\n      {\n        \"containerPort\": 80,\n        \"hostPort\": 80\n      }\n    ],\n    \"memory\": 512,\n    \"cpu\": 256\n  }\n]\nDEFINITION\n}\n\n# Create an ECS service\nresource \"aws_ecs_service\" \"my_service\" {\n  name            = \"my-service\"\n  cluster         = aws_ecs_cluster.my_cluster.id\n  task_definition = aws_ecs_task_definition.my_task.arn\n  desired_count   = 2 # Number of tasks to run\n  launch_type     = \"EC2\"\n\n  load_balancer {\n    target_group_arn = aws_lb_target_group.my_target_group.arn\n    container_name   = \"my-container\"\n    container_port   = 80\n  }\n\n  depends_on = [aws_lb_listener.my_listener]\n}\n\n# Create an Application Load Balancer\nresource \"aws_lb\" \"my_alb\" {\n  name               = \"my-alb\"\n  load_balancer_type = \"application\"\n  security_groups    = [\"your_security_group_id\"]\n  subnets            = [\"subnet-1\", \"subnet-2\"] # Replace with your subnet IDs\n}\n\n# Create a Target Group for the Load Balancer\nresource \"aws_lb_target_group\" \"my_target_group\" {\n  name        = \"my-target-group\"\n  port        = 80\n  protocol    = \"HTTP\"\n  vpc_id      = \"your_vpc_id\"\n  target_type = \"ip\"\n}\n\n# Create a Listener for the Load Balancer\nresource \"aws_lb_listener\" \"my_listener\" {\n  load_balancer_arn = aws_lb.my_alb.arn\n  port              = \"80\"\n  protocol          = \"HTTP\"\n\n  default_action {\n    type             = \"forward\"\n    target_group_arn = aws_lb_target_group.my_target_group.arn\n  }\n}\n```\n\nHere's what this code does:\n\n1. Configures the AWS provider with the desired region.\n2. Creates an ECS cluster named \"my-cluster\".\n3. Creates an ECS task definition for your Docker container. Replace `\"your-docker-image:tag\"` with your actual Docker image and tag.\n4. Creates an ECS service that runs two tasks (desired count) from the defined task definition. This service is associated with the Application Load Balancer's target group.\n5. Creates an Application Load Balancer named \"my-alb\". Replace `\"your_security_group_id\"` and `\"subnet-1\", \"subnet-2\"` with your actual security group ID and subnet IDs.\n6. Creates a target group for the Load Balancer to forward traffic to the ECS tasks.\n7. Creates a listener for the Load Balancer on port 80 (HTTP) and forwards traffic to the target group.\n\nMake sure to replace the placeholders (`your_vpc_id`, `your_security_group_id`, `subnet-1`, `subnet-2`) with your actual VPC ID, security group ID, and subnet IDs.\n\nAfter configuring the Terraform code, you can run `terraform init` to initialize the working directory and `terraform apply` to provision the resources on AWS.",
    "latency_ms": 11612.29,
    "rating": "",
    "comments": ""
  },
  {
    "model": "Gemini 1.5 Pro",
    "provider": "google",
    "category": "AppDev (Code Generation)",
    "prompt_id": "appdev_fizzbuzz",
    "task_description": "Python FizzBuzz",
    "prompt": "Write a clean Python function for FizzBuzz from 1 to 100.",
    "response_text": "ERROR: 404 NOT_FOUND. {'error': {'code': 404, 'message': 'models/gemini-1.5-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.', 'status': 'NOT_FOUND'}}",
    "latency_ms": null,
    "rating": "",
    "comments": ""
  },
  {
    "model": "Gemini 1.5 Pro",
    "provider": "google",
    "category": "Data (SQL Generation & Analysis)",
    "prompt_id": "data_sql_top_customers",
    "task_description": "Top Customers by Revenue",
    "prompt": "Write an optimized SQL query to get top 5 customers by revenue in the last 6 months.",
    "response_text": "ERROR: 404 NOT_FOUND. {'error': {'code': 404, 'message': 'models/gemini-1.5-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.', 'status': 'NOT_FOUND'}}",
    "latency_ms": null,
    "rating": "",
    "comments": ""
  },
  {
    "model": "Gemini 1.5 Pro",
    "provider": "google",
    "category": "DevOps (Infrastructure Automation)",
    "prompt_id": "devops_terraform_ecs",
    "task_description": "Terraform ECS Deployment",
    "prompt": "Create Terraform code to deploy a Docker application on AWS ECS with an Application Load Balancer.",
    "response_text": "ERROR: 404 NOT_FOUND. {'error': {'code': 404, 'message': 'models/gemini-1.5-pro is not found for API version v1beta, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.', 'status': 'NOT_FOUND'}}",
    "latency_ms": null,
    "rating": "",
    "comments": ""
  },
  {
    "model": "DeepSeek R1 7B",
    "provider": "ollama",
    "category": "AppDev (Code Generation)",
    "prompt_id": "appdev_fizzbuzz",
    "task_description": "Python FizzBuzz",
    "prompt": "Write a clean Python function for FizzBuzz from 1 to 100.",
    "response_text": "To solve the FizzBuzz problem from 1 to 100, we'll create a function that iterates through each number in this range and prints \"Fizz\" for multiples of 3, \"Buzz\" for multiples of 5, and \"FizzBuzz\" for numbers divisible by both. Otherwise, it prints the number itself.\n\nHere's the Python code:\n\n```python\ndef fizzbuzz():\n    for i in range(1, 101):\n        if i % 3 == 0 and i % 5 == 0:\n            print(\"FizzBuzz\")\n        elif i % 3 == 0:\n            print(\"Fizz\")\n        elif i % 5 == 0:\n            print(\"Buzz\")\n        else:\n            print(i)\n```\n\n**Explanation:**\n\n1. **Loop through numbers**: The function uses a `for` loop to iterate over each integer from 1 to 100 (inclusive).\n2. **Check divisibility**:\n   - First, it checks if the number is divisible by both 3 and 5 using modulo operations.\n   - If not, it checks for divisibility by 3 alone.\n   - Then, it checks for divisibility by 5 alone.\n   - If none of these conditions are met, it prints the number itself.\n\nThis approach ensures each condition is checked in the correct order, preventing any overlap and ensuring accurate output.",
    "latency_ms": 23074.43,
    "rating": "",
    "comments": ""
  },
  {
    "model": "DeepSeek R1 7B",
    "provider": "ollama",
    "category": "Data (SQL Generation & Analysis)",
    "prompt_id": "data_sql_top_customers",
    "task_description": "Top Customers by Revenue",
    "prompt": "Write an optimized SQL query to get top 5 customers by revenue in the last 6 months.",
    "response_text": "To efficiently retrieve the top 5 customers based on their revenue over the last six months, follow this optimized SQL query:\n\n```sql\nSELECT CustomerName,\n       SUM(Revenue) AS TotalRevenue\nFROM YourTableName\nWHERE OrderDate >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)\n      AND OrderDate < CURDATE()\nGROUP BY CustomerName\nORDER BY TotalRevenue DESC\nLIMIT 5;\n```\n\n**Explanation:**\n\n1. **Date Filtering:** The query filters for orders within the last six months using `DATE_SUB(CURDATE(), INTERVAL 6 MONTH)`.\n\n2. **Grouping and Summing:** It groups by `CustomerName` to sum up each customer's total revenue during the specified period.\n\n3. **Sorting and Limiting:** After sorting in descending order based on total revenue, it limits the results to the top five customers.\n\n**Notes:**\n\n- Ensure your database supports SQL window functions if using a different version or method.\n- Consider indexing `OrderDate` and `Revenue` for improved performance with large datasets.",
    "latency_ms": 47602.93,
    "rating": "",
    "comments": ""
  },
  {
    "model": "DeepSeek R1 7B",
    "provider": "ollama",
    "category": "DevOps (Infrastructure Automation)",
    "prompt_id": "devops_terraform_ecs",
    "task_description": "Terraform ECS Deployment",
    "prompt": "Create Terraform code to deploy a Docker application on AWS ECS with an Application Load Balancer.",
    "response_text": "To deploy a Docker containerized application on AWS ECS with an Application Load Balancer using Terraform, you can structure your code as follows. This approach assumes the use of Elastic Task Runners for flexibility in task definitions.\n\n### Step-by-Step Explanation:\n\n1. **Define ECS Service**: Create an ECS service to host your Docker containers. This includes specifying the availability zones, instance type, and deployment strategy (e.g., `elastic-task-runners`).\n\n2. **Create Application Load Balancer (ALB)**: Set up an ALB to distribute incoming traffic across multiple ECS instances for redundancy.\n\n3. **Set Up Load Balancer Group (LBG)**: Group your ALBs under an LBG for easier management, especially in multi-tenant environments.\n\n4. **Define Task Definitions**: Within the ECS service, define task definitions with Docker containers that include build and run stages as needed.\n\n5. **Output Resources**: Include necessary outputs such as ECS service name, ARN, ALB details, LBG configuration, etc., for easy integration into infrastructure setup scripts.\n\n### Terraform Code:\n\n```terraform\n# ECS Module: Creates the ECS service\n\nec2Module = module(\n  id: 'create-ecs',\n  params = {\n    region = \"us-west-2\",\n    availability_zones = [\"ap-southeast-1a\", \"ap-southeast-1b\"],\n    instance_type = \"t3.micro\",\n    deployment_strategy = \"elastic-task-runners\",\n    scaling_policy = null,\n    taskDefinitionNames = [\n      \"dwh-ecs-1\",\n      \"dwh-ecs-2\"\n    ],\n    numberOfInstances = 5\n  }\n)\n\n# ECS Task Definition Module: Defines task definitions for ECS\n\ntaskDefinitionModule = module(\n  id: 'create-ecs-taskdefinition',\n  params = {\n    name = \"dwh-ecs\",\n    build_stages = [\n      build_stage = {\n        path = \"./\",\n        steps = [\n          step = {name: \"build\", image = \"docker.build\"},\n          step = {name: \"run\", image = \"docker.run\"}\n        ]\n      }\n    ],\n    run_stages = [\n      run_stage = {\n        name = \"dwh-poc\",\n        entrypoint = \"/usr/local/bin/docker.sock\",\n        environment = [\"AWS_ECS_Database_URL=database-1\"]\n      }\n    ],\n    volumes = [\n      volume = {name: \"docker\", mode: \"ro\", persistent = true}\n    ]\n  },\n  tags = [\"dwh\"]\n)\n\n# ALB Module: Creates Application Load Balancer\n\nalbModule = module(\n  id: 'create-alb',\n  params = {\n    region = \"us-west-2\",\n    path_prefix = \"\",\n    load_balancer_group_name = \"dwh-eb-lbg\",\n    lbg_description = \"Elastic\u8d1d\u4e3d\u5e94\u7528\u8d1f\u8f7d\u5747\u8861\u7ec4\"\n  }\n)\n\n# LBG Module: Creates Load Balancer Group and adds ALB to it\n\nlbgModule = module(\n  id: 'create-lg',\n  params = {\n    lb_group_name = \"dwh-eb-lbg\",\n    lbg_description = \"Elastic\u8d1d\u4e3d\u5e94\u7528\u8d1f\u8f7d\u5747\u8861\u7ec4\"\n  }\n)\n\n# ECS with Elastic Task Runners Module: Creates ECS service with Elastic Task Runners\n\necsModule = module(\n  id: 'create-ecs-with-etrs',\n  params = {\n    name = \"dwh-ecs\",\n    availability_zones = [\"ap-southeast-1a\", \"ap-southeast-1b\"],\n    instance_type = \"t3.micro\",\n    deployment_strategy = \"elastic-task-runners\",\n    scaling_policy = null,\n    taskDefinitionNames = [\"dwh-ecs-1\", \"dwh-ecs-2\"],\n    numberOfInstances = 5\n  }\n)\n\n# Outputs for ECS Service\n\noutput: ECS_SERVICE_NAME = $\\{\\}.name\n\noutput: ECS_ARIN = ${\\}.arn\n\n# Outputs for ALB\n\noutput: ALB_PUBLIC_IP = ${\\}.public_ip\n\noutput: ALB_VPC_CIDR = ${\\}.vpc_cidr\n\n# Outputs for Load Balancer Group\n\noutput: LBG_NAME = $\\{\\}.name\n\noutput: LBG_DESCRIPTION = $\\{\\}.description\n```\n\n### Notes:\n\n- **ECS Module**: This module sets up the ECS service with specified parameters, including task definitions and deployment strategies.\n\n- **ALB Module**: Creates an ALB to manage traffic distribution. The path prefix can be adjusted based on your needs (e.g., empty string for root).\n\n- **LBA Module**: Although included in AWS, it's necessary to create a Load Balancer Group (`lbg`) under which multiple ALBs are added.\n\n- **Task Definition Module**: Defines the Docker containers within an ECS task definition. This includes build and run stages with appropriate steps (e.g., Docker build and run commands).\n\n### Example Terraform Execution:\n\n1. **Create ECS Service**:\n   ```terraform\n   module apply -v ec2Module\n   ```\n\n2. **Define Task Definitions**:\n   ```terraform\n   module apply -v taskDefinitionModule\n   ```\n\n3. **Create ALB**:\n   ```terraform\n   module apply -v albModule\n   ```\n\n4. **Create Load Balancer Group and Add ALB to It**:\n   ```terraform\n   module apply -v lbgModule\n   ```\n\n5. **Ensure Prerequisites**: Ensure that the application image is stored in S3, and necessary IAM roles are attached for ECS execution.\n\n### Terraform Outputs:\n\nThe code includes outputs for:\n- ECS Service Name (`ECS_SERVICE_NAME`)\n- ECS Service ARN (`ECS_ARIN`)\n- ALB Public IP (`ALB_PUBLIC_IP`)\n- ALB VPC CIDR Block (`ALB_VPC_CIDR`)\n- Load Balancer Group Name (`LBG_NAME`)\n- Load Balancer Group Description (`LBG_DESCRIPTION`)\n\nThese outputs can be used in the infrastructure setup script to deploy and manage the ECS service, ALB, and associated resources effectively.",
    "latency_ms": 72369.4,
    "rating": "",
    "comments": ""
  }
]